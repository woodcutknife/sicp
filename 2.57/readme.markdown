deriv
=====

两个过程：deriv-prefix 表示对前缀表达式求导，deriv-infix 表示对中缀表达式求导。

对符号求导的功能扩充有：

* 参考了2.56，加入了对乘方的求导功能，但比书上的要强大一点，可以处理 f(x)^g(x) 的情况。
* 参考了2.57，和式和积式可以接受多个参数。
* 参考了2.58的第一小问，额外写了两个过程 prefix-to-infix 和 infix-to-prefix 来完成中缀和前缀的简化。
* 加入了取负、除法以及各种函数，且求导满足链法则。

对代码逻辑的改进：

* 将式子化简分离了出来，作为一个 simplify 过程，可以进行一些基本的化简和常数运算。
* 用一个二维表格来维护各种表达式类型的求导和化简过程，对不同的表达式类型写了相应的 install 过程，通过 install-packages 进行各种表达式的功能的安装。
* 将所有的函数统一处理，通过 install-func 过程进行安装。

不足：

* 化简的功能很弱，没有合并同类项的功能，有时明明答案很简单但求导出的式子很复杂。
* 对中缀表达式的支持还不够，比如在去掉多余括号的情况下没法做。求导后输出的中缀表达式也有多余括号。
